<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ימי הולדת משפחת לנדסברג רמות</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 16px;
            font-size: 16px;
        }
        h1, h2 {
            color: #333;
            text-align: center;
        }
        .content-wrapper {
            max-width: 600px;
            margin: 0 auto;
        }
        #familyTable {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        #familyTable th, #familyTable td {
            border: 1px solid #ddd;
            padding: 10px 5px;
            text-align: right;
            font-size: 14px;
        }
        #familyTable th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        #searchInput, #idInput {
            width: 100%;
            padding: 12px;
            margin-bottom: 16px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .search-inputs {
            background-color: #e0f7fa;
            border: 1px solid #00796b;
        }
        .highlight {
            color: #d32f2f;
            font-weight: bold;
        }
        .highlight-date {
            color: #1976d2;
            font-weight: bold;
        }
        .instructions {
            background-color: #e0f7fa;
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 16px;
            font-size: 14px;
        }
        .search-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .background-lenzi { background-color: #ffcccc; }
        .background-udi { background-color: #ccffcc; }
        .background-dotan { background-color: #ccccff; }
        .background-atra { background-color: #ffffcc; }
        .background-itamar { background-color: #ffccff; }
        .background-namosh { background-color: #ccffff; }
        #currentMonthBirthdays {
            background-color: #e8eaf6;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        #ageOutput {
            background-color: #fff3e0;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="content-wrapper">
        <h1>ימי הולדת משפחת לנדסברג רמות</h1>
        <div id="currentDate"></div>
        <h2>חוגגים יום הולדת החודש:</h2>
        <div id="currentMonthBirthdays"></div>
        <p class="instructions">ניתן לחפש לפי שם פרטי, שם משפחה, תאריך לידה עברי או לועזי, חודש לידה או בית אב. בנוסף, ניתן לבדוק גיל לפי מזהה (למשל, הקלד "120" בתיבת החיפוש גיל).</p>
        <label class="search-label" for="searchInput">חיפוש:</label>
        <input type="text" id="searchInput" class="search-inputs" placeholder="חפש שם, תאריך, חודש או בית אב...">
        <label class="search-label" for="idInput">חיפוש מזהה:</label>
        <input type="number" id="idInput" class="search-inputs" placeholder="הכנס מספר מזהה לצפייה בגיל ופרטים נוספים...">
        <p id="ageOutput"></p>

        <div style="overflow-x:auto;">
            <table id="familyTable">
                <thead>
                    <tr>
                        <th>מזהה</th>
                        <th>שם פרטי</th>
                        <th>שם משפחה</th>
                        <th>בן/בת של</th>
                        <th>תאריך לידה עברי</th>
                        <th>תאריך לידה לועזי</th>
                        <th>בית אב</th>
                    </tr>
                </thead>
                <tbody id="familyTableBody">
                    <!-- טבלת המשפחה תמולא באמצעות JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
    // נתוני המשפחה - יש למלא את הפרטים כאן
    const familyData = [
         {id: 100, firstName: "מרים", lastName: "רמות", parents: "ראובן וקרולה ז\"ל", hebrewBirthDate: "א' תשרי תש\"י", gregBirthDate: "23/09/1949", house: "לנצי"},
    {id: 101, firstName: "לנצי", lastName: "רמות", parents: "שמעון ושושנה", hebrewBirthDate: "ט\"ו כסלו תש\"י", gregBirthDate: "06/12/1949", house: "לנצי"},
    {id: 102, firstName: "אודי", lastName: "רמות", parents: "לנצי ומרים", hebrewBirthDate: "י\"ח טבת תשל\"ג", gregBirthDate: "23/12/1972", house: "אודי"},
    {id: 103, firstName: "נעמה", lastName: "גרוס רמות", parents: "יעקב ז"ל ושושי", hebrewBirthDate: "כ\"ז תשרי תשל\"ג", gregBirthDate: "05/10/1972", house: "אודי"},
    {id: 104, firstName: "יונתן", lastName: "רמות", parents: "אודי ונעמה", hebrewBirthDate: "כ\"ז סיון תש\"ס", gregBirthDate: "30/06/2000", house: "אודי"},
    {id: 105, firstName: "עמית", lastName: "רמות", parents: "אודי ונעמה", hebrewBirthDate: "כ\"ז סיון תש\"ס", gregBirthDate: "30/06/2000", house: "אודי"},
    {id: 106, firstName: "יואב", lastName: "רמות", parents: "אודי ונעמה", hebrewBirthDate: "כ\"ז סיון תש\"ס", gregBirthDate: "30/06/2000", house: "אודי"},
    {id: 107, firstName: "ניצן", lastName: "רמות", parents: "אודי ונעמה", hebrewBirthDate: "ט\"ז ניסן תשס\"ג", gregBirthDate: "18/04/2003", house: "אודי"},
    {id: 108, firstName: "טל", lastName: "רמות", parents: "אודי ונעמה", hebrewBirthDate: "י\"א ניסן תשס\"ח", gregBirthDate: "16/04/2008", house: "אודי"},
    {id: 109, firstName: "דותן", lastName: "רמות", parents: "לנצי ומרים", hebrewBirthDate: "כ\"ט באדר תשל\"ד", gregBirthDate: "23/03/1974", house: "דותן"},
    {id: 110, firstName: "שירה", lastName: "רמות", parents: "נחמיה ז\"ל ונחמה", hebrewBirthDate: "י\"ז טבת תשל\"ז", gregBirthDate: "07/01/1977", house: "דותן"},
    {id: 111, firstName: "נעם", lastName: "רמות", parents: "דותן ושירה", hebrewBirthDate: "ו' ניסן תשס\"א", gregBirthDate: "30/03/2001", house: "דותן"},
    {id: 112, firstName: "עדי", lastName: "רמות", parents: "דותן ושירה", hebrewBirthDate: "י' טבת תשס\"ג", gregBirthDate: "15/12/2002", house: "דותן"},
    {id: 113, firstName: "טליה", lastName: "רמות", parents: "דותן ושירה", hebrewBirthDate: "כ\"ז טבת תשס\"ו", gregBirthDate: "27/01/2006", house: "דותן"},
    {id: 114, firstName: "אפרת", lastName: "רמות", parents: "דותן ושירה", hebrewBirthDate: "כ\"ה אלול תשס\"ח", gregBirthDate: "25/09/2008", house: "דותן"},
    {id: 115, firstName: "אביגיל", lastName: "רמות", parents: "דותן ושירה", hebrewBirthDate: "כ\"ג תשרי תשע\"ב", gregBirthDate: "21/10/2011", house: "דותן"},
    {id: 116, firstName: "מאיר", lastName: "דוקן", parents: "אהובה ושמעון", hebrewBirthDate: "כ\"ז חשון תשל\"ה", gregBirthDate: "12/11/1974", house: "עטרה"},
    {id: 117, firstName: "עטרה", lastName: "דוקן", parents: "לנצי ומרים", hebrewBirthDate: "ז' טבת תשל\"ח", gregBirthDate: "17/12/1977", house: "עטרה"},
    {id: 118, firstName: "מוריה", lastName: "דוקן", parents: "מאיר ועטרה", hebrewBirthDate: "כ\"ג חשון תשס\"ה", gregBirthDate: "06/11/2004", house: "עטרה"},
    {id: 119, firstName: "יפתח", lastName: "דוקן", parents: "מאיר ועטרה", hebrewBirthDate: "כ\"א ניסן תשס\"ו", gregBirthDate: "19/04/2006", house: "עטרה"},
    {id: 120, firstName: "ניתאי", lastName: "דוקן", parents: "מאיר ועטרה", hebrewBirthDate: "ט' אייר תש\"ע", gregBirthDate: "24/04/2010", house: "עטרה"},
    {id: 121, firstName: "רוני", lastName: "דוקן", parents: "מאיר ועטרה", hebrewBirthDate: "ד' אדר תשע\"ג", gregBirthDate: "13/02/2013", house: "עטרה"},
    {id: 122, firstName: "בניה", lastName: "דוקן", parents: "מאיר ועטרה", hebrewBirthDate: "ג' טבת תשע\"ז", gregBirthDate: "01/01/2017", house: "עטרה"},
    {id: 123, firstName: "אפרת", lastName: "נעמן רמות", parents: "בטינה ורמי", hebrewBirthDate: "י\"ז ניסן תשמ\"ז", gregBirthDate: "16/04/1987", house: "איתמר"},
    {id: 124, firstName: "איתמר", lastName: "נעמן רמות", parents: "לנצי ומרים", hebrewBirthDate: "י\"ד סיוון תשמ\"ד", gregBirthDate: "14/06/1984", house: "איתמר"},
    {id: 125, firstName: "איילה", lastName: "נעמן רמות", parents: "איתמר ואפרת", hebrewBirthDate: "כ\"ז אייר תש\"פ", gregBirthDate: "21/05/2020", house: "איתמר"},
    {id: 126, firstName: "עומר", lastName: "נעמן רמות", parents: "איתמר ואפרת", hebrewBirthDate: "כ\"ג אדר תשפ\"ג", gregBirthDate: "16/03/2023", house: "איתמר"},
    {id: 127, firstName: "נמוש", lastName: "רמות", parents: "לנצי ומרים", hebrewBirthDate: "י\"ח כסלו תש\"ן", gregBirthDate: "16/12/1989", house: "נמוש"}
];


   

    function populateTable() {
        const tableBody = document.getElementById('familyTableBody');
        familyData.forEach(person => {
            const row = tableBody.insertRow();
            row.className = `background-${person.house.toLowerCase()}`;
            row.innerHTML = `
                <td>${person.id}</td>
                <td>${person.firstName}</td>
                <td>${person.lastName}</td>
                <td>${person.parents}</td>
                <td>${person.hebrewBirthDate}</td>
                <td>${person.gregBirthDate}</td>
                <td>${person.house}</td>
            `;
        });
    }

    function searchTable() {
        const input = document.getElementById("searchInput").value.toUpperCase();
        const table = document.getElementById("familyTable");
        const tr = table.getElementsByTagName("tr");
        
        for (let i = 1; i < tr.length; i++) {
            let td = tr[i].getElementsByTagName("td");
            let found = false;
            for (let j = 0; j < td.length; j++) {
                if (td[j]) {
                    let txtValue = td[j].textContent || td[j].innerText;
                    if (txtValue.toUpperCase().indexOf(input) > -1) {
                        found = true;
                        break;
                    }
                }
            }
            tr[i].style.display = found ? "" : "none";
        }
    }

    function calculateAge() {
        const idValue = document.getElementById("idInput").value;
        const ageOutput = document.getElementById("ageOutput");
        const person = familyData.find(p => p.id == idValue);
        
        if (person) {
            const birthDate = new Date(person.gregBirthDate.split("/").reverse().join("-"));
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }

            const nextBirthday = new Date(today.getFullYear(), birthDate.getMonth(), birthDate.getDate());
            if (today > nextBirthday) {
                nextBirthday.setFullYear(today.getFullYear() + 1);
            }
            const daysToNextBirthday = Math.ceil((nextBirthday - today) / (1000 * 60 * 60 * 24));
            const nextBirthdayStr = nextBirthday.toLocaleDateString('he-IL');

            const daysOfWeek = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת'];
            const dayOfWeekHeb = daysOfWeek[nextBirthday.getDay()];

            ageOutput.innerHTML = `
                גיל לפי מזהה <span class="highlight">${idValue}</span>:<br>
                שם פרטי: <span class="highlight">${person.firstName}</span><br>
                שם משפחה: <span class="highlight">${person.lastName}</span><br>
                שם ההורים: ${person.parents}<br>
                גיל: <span class="highlight">${age} שנים</span><br>
                תאריך לידה עברי: <span class="highlight-date">${person.hebrewBirthDate}</span><br>
                תאריך לידה לועזי: <span class="highlight-date">${person.gregBirthDate}</span><br>
                יום הולדת הבא בעוד <span class="highlight">${daysToNextBirthday} ימים</span><br>
                בתאריך: <span class="highlight-date">${nextBirthdayStr} (${dayOfWeekHeb})</span><br>
                גיל ביום ההולדת הקרוב: <span class="highlight">${age + 1} שנים</span>
            `;
        } else {
            ageOutput.innerHTML = "לא נמצא אדם עם מזהה זה";
        }
    }

    function highlightCurrentMonthBirthdays() {
        const today = new Date();
        const currentMonth = today.getMonth();
        const currentMonthBirthdays = document.getElementById("currentMonthBirthdays");
        currentMonthBirthdays.innerHTML = '';

        familyData.forEach(person => {
            const birthMonth = new Date(person.gregBirthDate.split("/").reverse().join("-")).getMonth();
            if (birthMonth === currentMonth) {
                const birthdayPerson = `
                    <p>
                        מזהה: <span class="highlight">${person.id}</span><br>
                        שם פרטי: <span class="highlight">${person.firstName}</span><br>
                        שם משפחה: <span class="highlight">${person.lastName}</span><br>
                        שם ההורים: ${person.parents}<br>
                        תאריך יום הולדת: <span class="highlight-date">${person.gregBirthDate}</span><br>
                        גיל ביום ההולדת הקרוב: <span class="highlight">${today.getFullYear() - new Date(person.gregBirthDate.split("/").reverse().join("-")).getFullYear() + 1}</span>
                    </p>
                `;
                currentMonthBirthdays.innerHTML += birthdayPerson;
            }
        });
    }

    function updateCurrentDate() {
        const now = new Date();
        const hebrewDate = new Intl.DateTimeFormat('he-IL-u-ca-hebrew', {
            weekday: 'long',
            day: 'numeric',
            month: 'long',
            year: 'numeric'
        }).format(now);
        const gregorianDate = new Intl.DateTimeFormat('he-IL', {
            weekday: 'long',
            day: 'numeric',
            month: 'long',
            year: 'numeric'
        }).format(now);
        document.getElementById('currentDate').innerHTML = `היום: ${hebrewDate}<br>תאריך לועזי: ${gregorianDate}`;
    }

    document.addEventListener('DOMContentLoaded', function() {
        populateTable();
        highlightCurrentMonthBirthdays();
        updateCurrentDate();
        document.getElementById('searchInput').addEventListener('keyup', searchTable);
        document.getElementById('idInput').addEventListener('input', calculateAge);
    });

    setInterval(updateCurrentDate, 86400000); // עדכון יומי
    </script>
</body>
</html>
